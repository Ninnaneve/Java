# 插入数据
- 方法1（常用）
``` mysql
INSERT INTO [<db_name>.]<table_name> (column1, column2, ...) VALUES (value1,value2, ...)[,(...)];
```
- 方法2
``` mysql
INSERT INTO [<db_name>.]<table_name> SET column1=value1, column2=value2, ...;
```
注意：
可以一次插入多行，各行之间用,隔开。
字段名可以省略，但是此时要**按照数据定义时的字段顺序**插入值。
- 插入失败情况
  - 打乱字段顺序插入
  - 主键重复
  - 在没有设置AUTO_INCREMENT情况下，不提供主键值插入
- AUTO_INCREMENT情况
  - 初始值默认为1
  - 可以直接指定值，后面增加字段则在前一个值的基础上加1



# 更新数据

``` mysql
UPDATE [<db_name>.]<table_name> SET column1=value1, column2=value2, .... [WHERE子句];
```
如果不加where子句，将更新表中所有行对应的字段值。
MySQL默认模式是**安全更新模式**，在该模式下，会导致**非主键条件下**无法执行更新。
> 解决方法
    - 通过show variables like '%sql_safe%'查看当前的安全更新模式设定
    - 重置SQL模式：SET SQL_SAFE_UPDATES=0;【此行非常重要】



# 删除数据

- 删除部分数据
``` mysql
DELETE FROM [<db_name>.]<table_name> [WHERE子句];
```
如果未定义where子句，将逐一删除所有行。
- 清空所有数据——截断表
``` mysql
TRUNCATE 表名;
```

DELETE和TRUNCATE完全删除表记录的区别：
- 使用TRUNCATE语句删除表中的数据，再向表中添加记录时，auto_increment自动增加字段的**默认初始值重新由1**开始，使用DELETE语句删除表中所有记录，再向表中添加记录时，自动增加字段的值为**删除时该字段的最大值加1**(因为TRUNCATE把操作日志删除了); 
- 使用DELETE语句时，每删除一条记录**都会在日志中记**录，而使用TRUNCATE语句时，**不会在日志中记录**删除的内容，因此TRUNCATE语句的执行效率比DELETE语句高。



# Exercise

## 1
- 往product表中插入以下数据
[![OqLGh8.jpg](https://s1.ax1x.com/2022/05/20/OqLGh8.jpg)](https://imgtu.com/i/OqLGh8)
``` mysql
insert into product(product_id, product_name, product_code, product_place, product_date) values (1035, '商务型U盘128M', 1314027, '上海', '2010/9/10'),
(1048, '索尼CD-RW刻录盘', 1314040, '上海', '2012/12/1'),
(1058, 'LG刻录机', 1314050, '惠州', '2015/3/9'),
(1100, '东芝2868复印机', 1101011, '日本',, '2016/6/20'),
(1170, '柯达牌喷墨专用纸', 2205027, '美国', '2012/12/12'));
```
## 2
- (1) 将product数据表中产地字段值'惠州'改为'广东'；
> set sql_safe_updates=0;
``` mysql
set sql_safe_updates=0;
update product set product_place='广东' where product_place='惠州';
```
- (2) 将product数据表中所有产品的价格下调10%；
``` mysql
update product set price=price*0.9;
```
- (3) 将product数据表中2012以后的产品价格增加20%。
> year函数：year(字段名)
``` mysql
update product set price=price*1.2 where year(product_date)>2012;
```

## 3
- (1) 删除product数据表中产地字段为'美国'的记录；
``` mysql
delete from product where product_place='美国';
```
- (2) 删除product数据表中产品的价格在100和500之间的记录；
``` mysql
delete from product where price>=100 and price<=500;
```
- (3) 删除product数据表中上半年生产的产品；
> month函数：month(字段名)
``` mysql
delete from product where month(product_date)<=6;
```
- (4) 用TRUNCATE语句删除product_bak数据表中所有记录。
``` mysql
truncate product_bak;
```